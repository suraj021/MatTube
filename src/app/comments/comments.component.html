<div class="card z-depth-2" id="comments">
    <div class="card-body">
        <button  *ngIf="!show" (click)="showComments();" type="button" class="btn btn-default btn-block raleway">
            <i class="fa fa-eye" aria-hidden="true"></i>   Show Comments
        </button>
        <button *ngIf="show" (click)="hideComments();" type="button" class="btn btn-default btn-block raleway">
            <i class="fa fa-eye-slash" aria-hidden="true"></i>   Hide Comments
        </button>
        
        <div *ngIf="loading" id="loading">
            <loading></loading>
        </div>

        <div *ngIf="show" class="section">
            <div *ngIf="error && !loading" class="raleway" style="text-align:center;">
                {{ errorMessage }}
            </div>
            <div class="media raleway z-depth-1 animate-bottom" *ngFor="let comment of comments">
                <a class="d-flex pr-3" href="#">
                    <img class="user-thumbnail" src="{{ comment?.authorProfileImageUrl }}" alt="Image Thumbnail">
                </a>
                <div class="media-body">
                    <a href="">
                        <h5 class="mt-0" >{{ comment?.author }}</h5>
                    </a>
                    <span style="font-size:12px;">{{ comment?.publishedAt | date }}</span>
                    <span class="body">{{ comment?.textDisplay }}</span>
                    <span class="likes"><i class="fa fa-heart" aria-hidden="true"><span class="counter raleway">{{ comment.likeCount }}</span></i></span>
            
                    <div *ngIf="comment.replyCount > 0" class="replies">
                        <div class="media mt-3" *ngFor="let reply of comment.replies">
                            <a class="d-flex pr-3" href="#">
                                <img class="user-thumbnail" src="{{ reply?.authorProfileImageUrl }}" alt="Image Thumbnail">
                            </a>
                            <div class="media-body">
                                <a href="">
                                    <h5 class="mt-0">{{ reply?.author }}</h5>
                                </a>
                                <span>&nbsp; {{ comment?.publishedAt | date }}</span>
                                <span class="body">{{ reply?.textDisplay }}</span>
                                <span class="likes"><i class="fa fa-heart" aria-hidden="true"><span class="counter raleway">{{ reply?.likeCount }}</span></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

